/*! superbly-tagfield 06-01-2016 */
!function(a){a.fn.superblyTagField=function(b){var d={caseSensitive:!0,allowNewTags:!0,allowedTagsNumber:!1,showTagsNumber:10,addItemOnBlur:!1,preset:[],tags:[],onRemove:function(a){return!0}};return b&&a.extend(d,b),c(this,d),this};var b={downArrow:40,upArrow:38,enter:13,tab:9,backspace:8};function c(c,d){var e=d.tags.sort(),f=d.preset,g=d.caseSensitive,h=d.allowNewTags,j=d.allowedTagsNumber,k=d.showTagsNumber,l=d.addItemOnBlur,m=d.onRemove,n=e.slice(),o=new Array,p=null,q=null,r=null,s=!1;c.css("display","none");var t='<div class="superblyTagfieldDiv"><ul class="superblyTagItems"><li class="superblyTagInputItem"><input class="superblyTagInput" type="text" autocomplete="false"><ul class="superblySuggestItems"></ul></li></ul><div class="superblyTagfieldClearer"></div></div>';c.after(t);var u=a(".superblyTagInput",c.next()),v=u.next(),w=u.parent(),x=w.parent();for(i in f)C(f[i],!1);v.mouseover(function(a){s=!0}),v.mouseleave(function(a){s=!1}),u.keyup(function(b){(0==j||o.length<j)&&I(a(this).val())}),u.focusout(function(a){s||v.css("display","none")}),u.focus(function(b){q=null,(0==j||o.length<j)&&I(a(this).val())}),u.keydown(function(a){if(a.keyCode==b.downArrow)J();else if(a.keyCode==b.upArrow)K();else{if(a.keyCode==b.enter||a.keyCode==b.tab)return A(),a.keyCode!=b.enter;a.keyCode==b.backspace?(""==u.val()&&G(),z()):z()}}),l&&u.blur(function(a){A()}),x.parent().click(function(a){u.focus()});function y(){c.val(o.join(","))}function z(){var b=a("<span />").text(u.val()).appendTo(w),c=b.width();b.remove(),u.width(c+20)}function A(a){if(!(0!=j&&o.length>=j))if(null!=r)B(r);else if(h){var a=u.val();null!=a&&""!=a&&B(a)}}function B(a){C(a,!0)}function C(b,c){var d=!1;g||a.each(o,function(a,c){return 0==d&&c.toLowerCase()==b.toLowerCase()?(d=!0,!0):void 0});var e=jQuery.inArray(b,n);if(-1==jQuery.inArray(b,o)&&(e>-1||h)&&!d){e>-1&&n.splice(e,1),o.push(b),w.before("<li class='superblyTagItem'><span>"+b+"</span><a> x</a></li>"),u.val(""),q=null,r=null;var f=x.children(".superblyTagItem").size()-1;a(x.children(".superblyTagItem")[f]).children("a").click(function(b){var c=a(a(this).parent(".superblyTagItem").children("span")[0]).text();F(c)})}v.css("display","none"),z(),c&&u.focus(),y(),0!=j&&o.length>=j&&D()}function D(){u.attr("disabled","disabled"),v.css("display","none")}function E(){u.removeAttr("disabled"),v.show()}function F(b){if(m(b)===!1)return!1;var c=jQuery.inArray(b,e),d=jQuery.inArray(b,n);c>-1&&-1==d&&n.push(b),c=jQuery.inArray(b,o),c>-1&&(o.splice(c,1),x.children(".superblyTagItem").filter(function(){return a("span",this).html()==b}).remove()),n.sort(),u.focus(),y(),0!=j&&o.length<j&&E(),I(u.val())}function G(){var a=o.length-1,b=o[a];F(b)}function H(a){var b=new Array,c=0;for(key in n){if(c>=k)break;var d=n[key].toLocaleLowerCase(),e=a.toLowerCase();0==d.indexOf(e)&&(b.push(n[key]),c++)}return b}function I(b){if(v.show(),b==q)return!1;q=b,v.empty();var c=H(b);for(key in c)v.append("<li class='superblySuggestItem'>"+c[key]+"</li>");var d=v.children(".superblySuggestItem");d.click(function(b){B(a(this).html())}),p=null,h||(p=0,a(d[p]).addClass("selected"),r=a(d[p]).html())}function J(){var b=v.children(".superblySuggestItem"),c=b.size();null==p?p=0:c-1>p&&(a(b[p]).removeClass("selected"),p++),a(b[p]).addClass("selected"),r=a(b[p]).html()}function K(){if(0==p)p=null,r=null,u.focus();else if(p>0){var b=v.children(".superblySuggestItem");a(b[p]).removeClass("selected"),p--,a(b[p]).addClass("selected"),r=a(b[p]).html()}}}}(jQuery);
//# sourceMappingURL=superbly-tagfield.min.map